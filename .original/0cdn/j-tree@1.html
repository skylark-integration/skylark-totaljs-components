<style>.ui-tree *{box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box}.ui-tree{background-color:white}.ui-tree .node{}.ui-tree .children{display:none}.ui-tree .item .fa{width:16px;margin-right:3px}.ui-tree .item{cursor:pointer;padding:6px 18px;font-size:14px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;border-bottom:1px solid #E0E0E0}.ui-tree .item:hover{background-color:#F0F0F0}.ui-tree .show > .children{display:block}.ui-tree .show > .item{font-weight:bold;background-color:#F8F8F8}.ui-tree .selected{background-color:#FFE7A1 !important}.ui-tree .ui-tree-folder:before{content:'\f07b'}.ui-tree .show > .expand .ui-tree-folder:before{content:'\f07c'}.ui-tree .children1 .item{padding-left:33px}.ui-tree .children2 .item{padding-left:48px}.ui-tree .children3 .item{padding-left:63px}.ui-tree .children4 .item{padding-left:78px}</style>
<script>COMPONENT('tree@1','selected:selected;autoreset:false',function(self,config){var cache=null,counter=0,expanded={},selindex=-1;self.template=Tangular.compile('<div class="item{{ if children}} expand{{ fi}}" title="{{ name}}" data-index="{{ $pointer}}"><i class="fa {{ if children}}ui-tree-folder{{ else}}fa-file-o{{ fi}}"></i>{{ name}}</div>');self.readonly();self.nocompile&&self.nocompile();self.make=function(){self.aclass('ui-tree');self.event('click','.item',function(){var el=$(this);var index=+el.attr('data-index');self.select(index)})};self.select=function(index){var cls=config.selected,el=self.find('[data-index="{0}"]'.format(index));if(el.hclass('expand')){var parent=el.parent();parent.tclass('show');var is=expanded[index]=parent.hclass('show');config.exec&&EXEC(config.exec,cache[index],true,is)}else{!el.hclass(cls)&&self.find('.'+cls).rclass(cls);el.aclass(cls);config.exec&&EXEC(config.exec,cache[index],false);selindex=index}};self.unselect=function(){var cls=config.selected;self.find('.'+cls).rclass(cls)};self.clear=function(){expanded={};selindex=-1};self.expand=function(index){if(index==null){self.find('.expand').each(function(){$(this).parent().aclass('show')})}else{self.find('[data-index="{0}"]'.format(index)).each(function(){var el=$(this);if(el.hclass('expand')){el.parent().aclass('show')}else{while(true){el=el.closest('.children').prev();if(!el.hclass('expand'))break;el.parent().aclass('show')}}})}};self.collapse=function(index){if(index==null){self.find('.expand').each(function(){$(this).parent().rclass('show')})}else{self.find('[data-index="{0}"]'.format(index)).each(function(){var el=$(this);if(el.hclass('expand')){el.parent().rclass('show')}else{while(true){el=el.closest('.children').prev();if(!el.hclass('expand'))break;el.parent().rclass('show')}}})}};self.renderchildren=function(builder,item,level){builder.push('<div class="children children{0}" data-level="{0}">'.format(level));item.children.forEach(function(item){counter++;item.$pointer=counter;cache[counter]=item;builder.push('<div class="node{0}">'.format(expanded[counter]&&item.children?' show':''));builder.push(self.template(item));item.children&&self.renderchildren(builder,item,level+1);builder.push('</div>')});builder.push('</div>')};self.reset=function(){var cls=config.selected;self.find('.'+cls).rclass(cls)};self.first=function(){cache.first&&self.select(cache.first.$pointer)};self.setter=function(value){config.autoreset&&self.clear();var builder=[];counter=0;cache={};value&&value.forEach(function(item){counter++;item.$pointer=counter;cache[counter]=item;builder.push('<div class="node{0}">'.format(expanded[counter]&&item.children?' show':'')+self.template(item));if(item.children)self.renderchildren(builder,item,1);else if(!cache.first)cache.first=item;builder.push('</div>')});self.html(builder.join(''));if(selindex!==-1)self.select(selindex);else config.first!==false&&cache.first&&setTimeout(self.first,100)}});</script>