<style>.ui-passwordmeter{color:#A0A0A0}.ui-passwordmeter-progress{border:1px solid #E0E0E0;padding:1px;border-radius:2px;margin-top:10px}.ui-passwordmeter-progress > div{height:8px;background-color:#E0E0E0;width:0;background-color:#DA4453}.ui-passwordmeter-rating{font-size:11px;margin:3px 0 0}.ui-passwordmeter-rating b{margin-right:5px}.ui-passwordmeter-weak .ui-passwordmeter-progress div{background-color:#DA4453}.ui-passwordmeter-good .ui-passwordmeter-progress div{background-color:#F6BB42}.ui-passwordmeter-strong .ui-passwordmeter-progress div{background-color:#8CC152}.ui-passwordmeter-good{color:#F6BB42}.ui-passwordmeter-strong{color:#8CC152}</style>
<script>COMPONENT('passwordmeter','numbers:true;chars:true;special:false;casesensitive:true;sequence:true;min:4;valid:40;weak:Weak;good:Good;strong:Strong;text:Password strength;short:Short password',function(self,config){var elp,elr,p;self.nocompile&&self.nocompile();self.make=function(){self.aclass('ui-passwordmeter');self.element.prepend('<div class="ui-passwordmeter-progress"><div></div></div><div class="ui-passwordmeter-help"><div class="ui-passwordmeter-rating"></div>');elp=$(self.find('.ui-passwordmeter-progress > div')[0]);elr=self.find('.ui-passwordmeter-rating')};self.setter=function(value,type){if(!value)value='';var numbers=0,chars=0,special=0,lower=0,upper=0,unicode=0,max=0,points=0,numbersseq=false,charsseq=false;for(var i=0;i<value.length;i++){var prev2=i>1?value.charCodeAt(i-2):0;var prev=i?value.charCodeAt(i-1):0;var c=value.charCodeAt(i);if(c>47&&c<58){if((c+1===prev||c-1===prev)&&(c+2===prev2||c-2===prev2))numbersseq=true;numbers++;continue}if(c>64&&c<91){if((c+1===prev||c-1===prev)&&(c+2===prev2||c-2===prev2))charsseq=true;upper++;chars++;continue}if(c>96&&c<123){lower++;chars++;continue}if(c<127)special++;else if(c>128){unicode++;chars++}}if(config.numbers){max+=2;if(numbers)points++;if(numbers>1)points++}if(config.chars){max+=2;if(chars||unicode)points++;if(chars>1||unicode>1)points++}if(config.casesensitive){max+=2;if(lower)points++;if(upper)points++}if(config.special){max++;if(special)points++}if(config.sequence){max++;if(!numbersseq&&!charsseq&&value)points++}var rating;if(value.length<config.min){p=0;rating='short'}else{p=Math.ceil((points/max)*100);rating=p<30?'weak':p<70?'good':'strong'}elp.animate({width:p+'%'},300);self.rclass2('ui-passwordmeter-').aclass('ui-passwordmeter-'+rating);elr.html('<b>{0}:</b>'.format(config.text)+config[rating]);type&&self.change(true)};self.validate=function(value,init){return init?true:config.valid?p>config.valid&&value&&value.length>=config.min:true}});</script>