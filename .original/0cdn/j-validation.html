<script>COMPONENT('validation','delay:100;flags:visible',function(self,config){var path,elements=null,def='button[name="submit"]',flags=null;self.readonly();self.make=function(){elements=self.find(config.selector||def);path=self.path.replace(/\.\*$/,'');setTimeout(function(){self.watch(self.path,self.state,true)},50)};self.configure=function(key,value,init){switch(key){case'selector':if(!init)elements=self.find(value||def);break;case'flags':if(value){flags=value.split(',');for(var i=0;i<flags.length;i++)flags[i]='@'+flags[i]}else flags=null;break}};self.state=function(){setTimeout2(self.id,function(){var disabled=DISABLED(path,flags);if(!disabled&&config.if)disabled=!EVALUATE(self.path,config.if);elements.prop('disabled',disabled)},config.delay)}});</script>