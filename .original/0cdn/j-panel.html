<style>.hidden{display:none}.ui-panel{background-color:white;margin:0 0 0 auto;transform:scale(0.8);-webkit-transform:scale(0.8);-moz-transform:scale(0.8);-ms-transform:scale(0.8);transition:all 0.2s;-webkit-transition:all 0.2s;-moz-transition:all 0.2s;-ms-transition:all 0.2s;opacity:0;filter:alpha(opacity=0);width:100%}.ui-panel-noscroll,.ui-panel-noscroll body{overflow:hidden}.ui-panel-container{width:100%;position:fixed;left:0;top:0;bottom:0;right:0;background-color:rgba(230,233,237,0.8);z-index:5;overflow:none;transform-style:preserve-3d;-webkit-transform-style:preserve-3d;-moz-transform-style:preserve-3d;-ms-transform-style:preserve-3d;height:100%}.ui-panel-inline{right:0;left:auto;background:transparent}.ui-panel-inline .ui-panel{border-left:1px solid #E0E0E0;background-color:rgba(255,255,255,0.9)}.ui-panel-header{height:60px}.ui-panel-body{overflow-scrolling:touch;-webkit-overflow-scrolling:touch;-moz-overflow-scrolling:touch;-ms-overflow-scrolling:touch;overflow-y:auto}.ui-panel-animate .ui-panel{transform:scale(1);-webkit-transform:scale(1);-moz-transform:scale(1);-ms-transform:scale(1);opacity:1;filter:alpha(opacity=100)}.ui-panel-inline.ui-panel-animate{transition:box-shadow 0.5s;-webkit-transition:box-shadow 0.5s;-moz-transition:box-shadow 0.5s;-ms-transition:box-shadow 0.5s;box-shadow:-10px 0 20px rgba(0,0,0,0.02)}.ui-panel-title{padding:0 0 0 20px;font-size:16px;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;color:black;background-color:white;border-bottom:1px solid #E0E0E0;position:absolute;left:0;right:0;top:0;height:60px}.ui-panel-title .ui-panel-button-close{float:right;cursor:pointer;font-size:18px;transition:all 0.2s;-webkit-transition:all 0.2s;-moz-transition:all 0.2s;-ms-transition:all 0.2s;background:none;border:0;outline:0;height:auto;color:red;text-align:center;!important;padding:0;width:auto;border-left:1px solid #E0E0E0;width:60px;height:60px}.ui-panel-title .ui-panel-button-close:hover{background-color:#EB3324;color:white}.ui-panel-title > span{font-weight:bold;max-width:70%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;position:relative;display:inline-block;vertical-align:middle;padding:18px 0 0}.ui-panel-title > .fa{margin:19px 7px 0 0;float:left}</style>
<script>COMPONENT('panel','width:350;icon:circle-o;zindex:12',function(self,config){var W=window;if(!W.$$panel){W.$$panel_level=W.$$panel_level||1;W.$$panel=true;$(document).on('click touchend','.ui-panel-button-close,.ui-panel-container',function(e){var target=$(e.target);var curr=$(this);var main=target.hclass('ui-panel-container');if(curr.hclass('ui-panel-button-close')||main){var parent=target.closest('.ui-panel-container');var com=parent.component();if(!main||com.config.bgclose){if(config.close)EXEC(config.close,com);else com.hide();e.preventDefault();e.stopPropagation()}}});$(W).on('resize',function(){SETTER('panel','resize')})}self.readonly();self.hide=function(){self.set('')};self.resize=function(){var el=self.element.find('.ui-panel-body');el.height(WH-self.find('.ui-panel-header').height())};self.icon=function(value){var el=this.rclass2('fa');value.icon&&el.aclass('fa fa-'+value.icon)};self.make=function(){$(document.body).append('<div id="{0}" class="hidden ui-panel-container{3}"><div class="ui-panel" style="max-width:{1}px"><div data-bind="@config__change .ui-panel-icon:@icon__html span:value.title" class="ui-panel-title"><button class="ui-panel-button-close{2}"><i class="fa fa-times"></i></button><i class="ui-panel-icon"></i><span></span></div><div class="ui-panel-header"></div><div class="ui-panel-body"></div></div>'.format(self.ID,config.width,config.closebutton==false?' hidden':'',config.bg?'':' ui-panel-inline'));var el=$('#'+self.ID);el.find('.ui-panel-body')[0].appendChild(self.dom);self.rclass('hidden');self.replace(el);self.find('button').on('click',function(){switch(this.name){case'cancel':self.hide();break}})};self.configure=function(key,value,init){switch(key){case'bg':self.tclass('ui-panel-inline',!value);self.element.css('max-width',config.bg?'inherit':config.width);break;case'closebutton':!init&&self.find('.ui-panel-button-close').tclass(value!==true);break;case'width':self.element.css('max-width',config.bg?'inherit':value);break}};self.setter=function(value){setTimeout2('ui-panel-noscroll',function(){$('html').tclass('ui-panel-noscroll',!!$('.ui-panel-container').not('.hidden').length)},50);var isHidden=value!==config.if;if(self.hclass('hidden')===isHidden)return;setTimeout2('panelreflow',function(){EMIT('reflow',self.name)},10);if(isHidden){self.aclass('hidden');self.release(true);self.rclass('ui-panel-animate');W.$$panel_level--;return}if(W.$$panel_level<1)W.$$panel_level=1;W.$$panel_level++;var container=self.element.find('.ui-panel-body');self.css('z-index',W.$$panel_level*config.zindex);container.scrollTop(0);self.rclass('hidden');self.release(false);setTimeout(self.resize,100);config.reload&&EXEC(config.reload,self);config.default&&DEFAULT(config.default,true);if(!isMOBILE&&config.autofocus){var el=self.find(config.autofocus===true?'input[type="text"],select,textarea':config.autofocus);el.length&&el[0].focus()}setTimeout(function(){container.scrollTop(0);self.aclass('ui-panel-animate')},300);setTimeout2(self.id,function(){self.css('z-index',(W.$$panel_level*config.zindex)+1)},1000)}});</script>